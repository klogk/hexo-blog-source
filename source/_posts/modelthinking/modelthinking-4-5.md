title: '[Coursera][ModelThinking][SRT] Section 4-5'
date: 2009-01-01 12:00
tags: ['Coursera', 'MOOC', 'ModelThinking']
---

﻿嗨 欢迎回来 上次课我们讲到了概率
那是为了在这节课中运用概率的知识在不确定性条件下做出决策
为此 我们首先要介绍一个新方法称为决策树模型
在出现种种意外情况和不确定事件
或者我们对未来状况一无所知的情况下
这个模型特别有用
我们学习这个模型可以使我们更好地思考
做出更优的选择和决策
而不是两手一摊 说我不知道该怎么选 就选这个吧
此外 还有两个原因
其一 用它来推测小概率事件推测他人的选择
通过研究他的选择 来理解他对世界的看法
以及解释发生了什么事
其二 我们可以用决策树来多了解我们自己一点点
用一个有趣的例子 我们就放到最后讲
好 我们开始吧 决策树是什么？
其实决策树是很直接的
你眼下要做一个选择 比如是不是要买东西
如果我不买 我的收益是0如果我买了 可能会得到正5的收益
在这种情况下 我应该买因为预期收益为正 对吧？
决策树的分支代表我们每次选择
我们选择分支中回报最高的那一支
我们真正想看的是 当出现各种意外事件和不确定事件 让选择变得有点困难的时候
举个例子 想象这么一个场景
你准备去趟城里 手里现在有一张去博物馆的票 一点到两点
假定博物馆离火车站相当远
你查看票价发现3点钟的火车票只卖200块
可是 4点的车票就要卖400块
你问自己 我该不该买这张票？
也就是说 我是不是应该在3点的火车票卖完之前把它买下来 省一笔钱
而你赶不上火车的几率是40% 你就想了
如果我来不及 赶不上火车
要是真没赶上 我就得买两张票了
也就说我之前买票的200块就打水漂了这种情况下我们怎么选择呢？
这不算难 我们可以来画个决策树
具体步骤是 首先画个方框代表我们的抉择问题
买还是不买呢？没那么简单 不是吗？
如果我买 那么有60%的几率我能赶上火车
我们在这里写个6  有40%的几率赶不上
我现在要决定我买还是不买因为情况有一点复杂
要解决这个问题就得通过决策树来做出好决策
我首先要标明每种选择的价值
我不买3点钟的票 我就要花掉400块别管这张贵票了
如果我买3点钟的票 我又赶上了车好极了 因为我只花了200块
但是如果我买了3点钟的票又没赶上车我就得花600块
现在必要的信息都收集全了我把所有情况的回报写在每个分支的末端
每个分支发生的几率也都有
我现在就要决定哪个选择更好我们来弄得整洁好看
我的数据都在这 现在该决定了
很明显 我不买3点钟票就花400块
如果我买呢？有60%的可能我花掉200块加上40%的可能
我花掉600块 那么200乘以60%得到120再加上这里的240
得360 所以我买3点钟票结果是花掉360块
不买的话花400块于是这个选择相当简单了 对吧？
买  花360 不买  花400既然我想要尽量减少开销
我应该做的事情就是买3点钟的票这是个很简单的例子
我们再来分析个复杂点的假如你想申请一个奖学金
金额5000块  这看上去不错不过申请人数上限是200人
于是你就跑到他们的办公室去打听
结果知道你能进前200名
要申请这个奖学金你得写一篇2页的短文
告诉他们你凭什么能拿这个奖 然后他们再从中选出10个人进最终候选名单
进了名单的每人得再写10页纸的短文
好了  该做决定了  你能拿5000美金
这是一大笔钱了 但你得写2页短文
但如果你能进最终候选名单就再写10页 有一定概率进最终名单
进了最终名单后又有一定概率获奖面对这个局面
你在思考 怎么办呢？我们需要知道什么？
需要知道事件发生的几率成功进入最终候选名单的几率
和最终获胜的几率 这很简单
我们还需要知道回报 我们已经知道奖学金的回报 还需要知道的是写短文的花费
那么 使用决策树的第一步 就是确认支出
假设 写一篇2页短文的支出是
就算20块吧
我写一篇2页短文的时间值20块
那么10页的文章呢？可能只要40块
你可能会问怎么只有40块那是因为我已经写好了2页短文
文章的轮廓已经有了能进最终名单让我很兴奋
那么将我的文章拓展一下就没那么困难我们就假定40块吧
好了  信息收集完毕收益支出和各种几率
那么我们现在应该画决策树 对吧？
第一步 画出决策树画的同时把所有的回报和几率写上去
保证每个信息都写对了
都画好之后  我们就可以反向求解和之前一样
确认每个分支的价值然后找出自己应该做的选择
我们开始吧 问题是我要不要写这个短文？
不写  什么都得不到
写  情况有点复杂了因为我们会遇到某个节点
就是我会不会被选中 如果选中了
我将决定写不写第2篇文章可能不会写 但很可能会写
写了以后是否获胜也是随机的如果我获胜了
那当然很好 如果我没有获胜那就没那么好了
不过我不会把那些笑脸或者哭脸画在这里
实际上 我得把它们转换成数字一起来做吧
不会很难的 如果我不写短文  收益0那么我被选中的几率呢？
从200个申请人里面选10人进最终名单我们可以说 选中我的几率是5%
95%的几率我会落选 第2篇文章我可以选择写或不写
接下来 如果我获胜了这里又有个转变节点
我获胜的几率有多大？10% 十分之一
失败几率是90% 我的几率都在这里了
现在该搞明白回报了 如果我没写短文
如果我写了第一篇短文  结果没中我损失了20块 就是负20
如果我被选中  但我没写第二篇文章我同样损失20块
如果我写了第二篇短文结果还是没中
我损失60美元 因为我写了两篇文章一篇20 一篇40 但如果我获胜
我将拿到4940美元 5000减60减去写文章的支出
我们稍稍整理一下  这就是全部的分析了
我们眼前这美妙的决策树上面挂着我所有的几率  我现在要做的就是
确认我的回报 做这些事情我能得到什么回报？
好  我们反着分析  从这里开始如果我赢了 我有十分之一的几率
最终获胜  那就是4940用0.1去乘4940 再加上
0.9乘-60 好了 得到多少0.1乘以4940就是494
0.9乘60得-54 最后得到440把440写在这里
这些东西就可以擦掉了 把440写在这里
让我们来看看这个问题 我该不该写第二篇短文 结果很明显了吧
如果我写了我期望的收益是440如果我不写
我期望的收益是-20好吧 把这些擦掉吧
如果我写  440 不写 -20 很清楚了
没错 我应该写这篇短文 那么接下来
如果我写了第1篇短文我是有一定可能被选上的
如果我被选上了我的期待收益是440如果我没被选上我损失20
来计算一下价值吧  440对应着5%
另95%的可能是我会损失20我们要把两者加起来
440乘以5%得22 -20乘以95%得-19
我们把这两项加起来 得到3
我就用3来替换掉这整条分支反着推得到3
那么现在看看我的抉择吧我是否该写第1篇短文？
不写  一无所获 写  期待收益是3那我应该怎么做？
看来 我可能应该选择写 因为收益为正
有趣的事情来了  如果有300个人申请
甚至是400人呢？我可能就不会想写那篇短文了
可见  画决策树分析决策树能给我们带来的好处是
让我们知道这件事是不是真的值得去做这就是怎样用决策树来做决定
我们来搞点更有意思的吧
推测一下他人对几率的想法
假设你有一个朋友 她告诉你有那么一个项目
听上去风险不小但有50000美金的回报
不过你至少得掏2000美金你朋友说 她已经投资了
你也一起吧 绝对划算
到决定的时候了 你要不要投资呢？首先我们要知道
她认为投资成功的几率有多大？
我们来画决策树吧 决定一下自己要不要投资
有些可能会成功（概率为P）也有一定几率会失败（概率为1-P）
如果成功 她能得到50000美金 我也一样
如果失败 我损失2000美金来看看我们的朋友是怎么想的吧
她想的是50P 减去2*（1-P）大于0
在实际投资之前她希望确定这个分支的预期收益为正
我们来计算一下  这里是50P
减去2加上2P大于0我把带P的式子全部移动到这一边
得到52P 希望它大于2可见 我们的朋友认为
P大于2/52 至少差不多在4%左右现在我们可以来考虑一下这个投资
我真的认为有4%的回报率吗？
显然我朋友是这么想的 因为她已经掏了钱
我还没有打定主意 这时候我也可以推测这才是重点所在
我可以从她的决策来推测她的想法她认为
投资成功的几率会超过4%
不然她也不会投钱进去了来看看决策树
就算我们不知道真正的几率 也可以从他人的行动中 推测出他们对这个几率的看法
最后这个比较有趣
通过决策树我们能推测回报有时还能推测自己认为的回报
和我们考虑问题的方法 场景如下
很有意思 你手里有一张候补机票回家去看望父母
你早上给航空公司打电话
得知你大概有三分之一的几率能飞
三分之二的几率飞不了你得决定去不去机场了
或者你就留在学校  周末不回家
假设你决定不走 你决定留在机场
使用决策树  你就能精确地知道自己到底有多想看望父母
我是什么意思呢？来分析吧 决定在此
你留在学校了假定这时的回报是底线 为0
你也可以去机场 三分之一的几率能飞
给这个分支命名为V代表看望父母对你的价值
这里则有三分之二的几率这里我们应该标记一个小小的支出 -C
代表坐出租车去机场 来回要用掉的几个小时
或者坐火车来回机场 另一种情况 你飞不了
这时候你的支出就是单纯的-C因为你选择留学校
那就意味着 用三分之一的几率去乘
看望父母的带来的价值减去去机场的支出 再加上
三分之二的几率 乘以 -C去机场的支出 整个等式的结果
要小于0  意思是 V/3 算上这些C-C小于0
按照这个算式 结果就是
V要小于3C 结论出来了 对你来说
看望父母的价值小于去机场的支出的三倍
这个故事告诉我们可能你不是那么想回去看望父母 那么如果
你确实前往机场去赌候补机票的运气那结论就恰恰相反
意味着V大于3C 你真心想回去看望父母
这是一件大好事 我很确定他们会非常高兴见到你回家
好了 决策树的内容就到这里 很有趣
我们已经展示了在各种随机和意外情形下做决策的方法
决策树很有用 特别是针对类似的理性决策
再强调一次 你用不着死守这个模型的指示
但是这个模型仍然是不错的帮助是你做出更好决策的向导
此外 我们也用决策树来推测他人对几率的想法
当我们的朋友想掏钱投资
我们就可以推测 她认为至少有4%的几率投资能成
那么你在了解这些事实之后
可以这样想 我做出了某个选择这代表着我对这个世界的看法
或者我对我父母的看法而这些看法的基础都来自
你对几率的估算好了 谢谢大家
